diff --git a/CMakeLists.txt b/CMakeLists.txt
index 3a38fc65..f36f0f68 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -43,7 +43,7 @@ endif()
 
 if( CMAKE_COMPILER_IS_GNUCXX )
     append_cxx_compiler_flags("-std=c++17 -Wall -Wextra -DNDEBUG" "GCC" CMAKE_CXX_FLAGS)
-    append_cxx_compiler_flags("-O3 -ffast-math -funroll-loops" "GCC" CMAKE_CXX_OPT_FLAGS)
+    append_cxx_compiler_flags("-O3 -ffast-math -funroll-loops" "GCC" CMAKE_CXX_FLAGS)
     if ( CODE_COVERAGE )
         append_cxx_compiler_flags("-g -fprofile-arcs -ftest-coverage -lgcov" "GCC" CMAKE_CXX_FLAGS)
     endif()
@@ -52,11 +52,11 @@ else()
     if( CMAKE_COMPILER_IS_CLANGXX )
 		append_cxx_compiler_flags("-std=c++17 -DNDEBUG" "CLANG" CMAKE_CXX_FLAGS)
 		append_cxx_compiler_flags("-stdlib=libc++" "CLANG" CMAKE_CXX_FLAGS)
-		append_cxx_compiler_flags("-O3 -ffast-math -funroll-loops -D__extern_always_inline=\"extern __always_inline\" " "CLANG" CMAKE_CXX_OPT_FLAGS)
+		append_cxx_compiler_flags("-O3 -ffast-math -funroll-loops -D__extern_always_inline=\"extern __always_inline\" " "CLANG" CMAKE_CXX_FLAGS)
 	else()
         if( CMAKE_COMPILER_IS_INTEL )
             append_cxx_compiler_flags("-std=c++17 -Wall -Wextra -DNDEBUG" "INTEL" CMAKE_CXX_FLAGS)
-            append_cxx_compiler_flags("-O3 -ffast-math -funroll-loops -no-inline-min-size -no-inline-max-size" "INTEL" CMAKE_CXX_OPT_FLAGS)
+            append_cxx_compiler_flags("-O3 -ffast-math -funroll-loops -no-inline-min-size -no-inline-max-size" "INTEL" CMAKE_CXX_FLAGS)
         else()
             append_cxx_compiler_flags("/EHsc" "MSVC" CMAKE_CXX_FLAGS)
             append_cxx_compiler_flags("/Od" "MSVC" CMAKE_CXX_FLAGS_DEBUG)
@@ -83,10 +83,10 @@ endif()
 include(CheckSSE4_2)
 if( BUILTIN_POPCNT )
   if( CMAKE_COMPILER_IS_GNUCXX )
-    append_cxx_compiler_flags("-msse4.2 -march=native" "GCC" CMAKE_CXX_OPT_FLAGS)
+    append_cxx_compiler_flags("-msse4.2 -march=native" "GCC" CMAKE_CXX_FLAGS)
   endif()
   if( CMAKE_COMPILER_IS_GNUCXX )
-    append_cxx_compiler_flags("-msse4.2 -march=native" "CLANG" CMAKE_CXX_OPT_FLAGS)
+    append_cxx_compiler_flags("-msse4.2 -march=native" "CLANG" CMAKE_CXX_FLAGS)
   endif()
   if( CMAKE_COMPILER_IS_INTEL )
     append_cxx_compiler_flags("-msse4.2 -march=native" "INTEL" CMAKE_CXX_FLAGS)
@@ -98,9 +98,9 @@ include(FindCxaDemangle)
 if( HAVE_CXA_DEMANGLE )
     message(STATUS "Compiler supports DEMANGLE.")
     if( CMAKE_COMPILER_IS_GNUCXX )
-        append_cxx_compiler_flags("-DHAVE_CXA_DEMANGLE" "GCC" CMAKE_CXX_OPT_FLAGS)
+        append_cxx_compiler_flags("-DHAVE_CXA_DEMANGLE" "GCC" CMAKE_CXX_FLAGS)
     else()
-        append_cxx_compiler_flags("-DHAVE_CXA_DEMANGLE" "CLANG" CMAKE_CXX_OPT_FLAGS)
+        append_cxx_compiler_flags("-DHAVE_CXA_DEMANGLE" "CLANG" CMAKE_CXX_FLAGS)
     endif()
 endif()
 
@@ -116,7 +116,8 @@ else()
     message(WARNING "git not found. Cloning of submodules will not work.")
 endif()
 
-add_subdirectory(external)
+include(external/Findlibdivsufsort.cmake)
+
 add_subdirectory(include)
 add_subdirectory(lib)
 
